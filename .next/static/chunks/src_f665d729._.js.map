{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/lib/api-config.js.js"],"sourcesContent":["import axios from 'axios';\n\n// Define base URL for our API\nconst API_BASE_URL = 'http://localhost:8000/api'; // Adjust port to yours\n\n// Create main API instance\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor for adding authorization\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor for handling errors\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    // Handle token expiration\n    if (error.response && error.response.status === 401) {\n      localStorage.removeItem('token');\n      // Optionally redirect to login\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n\n\n"],"names":[],"mappings":";;;AAAA;;AAEA,8BAA8B;AAC9B,MAAM,eAAe,6BAA6B,uBAAuB;AAEzE,2BAA2B;AAC3B,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,+CAA+C;AAC/C,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;IACrD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,2CAA2C;AAC3C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,0BAA0B;IAC1B,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD,aAAa,UAAU,CAAC;QACxB,+BAA+B;QAC/B,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/app/explore-users/page.jsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport apiClient from '../../lib/api-config.js';\nimport Link from 'next/link';\nimport { getAllUsers, followUser, unfollowUser } from '../../services/';\nimport { useAuth } from '../../contexts/authContext';\nimport toast from 'react-hot-toast';\nimport { FaUserPlus, FaUserCheck } from 'react-icons/fa';\n\nexport default function ExploreUsers() {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const { user: currentUser, isAuthenticated } = useAuth();\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        setLoading(true);\n        const response = await apiClient.get('/users');\n        setUsers(response.data);\n      } catch (error) {\n        console.error('Error fetching users:', error);\n        toast.error('Failed to load users');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUsers();\n  }, []);\n\n  const handleFollowToggle = async (userId) => {\n  if (!isAuthenticated) {\n    toast.error('Please log in to follow users');\n    return;\n  }\n\n  try {\n    const userToUpdate = users.find(u => u.id === userId);\n    // Use isFollowing property from the user object\n    const isCurrentlyFollowing = userToUpdate.isFollowing;\n\n    if (isCurrentlyFollowing) {\n      await unfollowUser(userId);\n    } else {\n      await followUser(userId);\n    }\n\n    // Update UI\n    setUsers(users.map(user => \n      user.id === userId \n        ? { ...user, isFollowing: !isCurrentlyFollowing }\n        : user\n    ));\n\n    toast.success(isCurrentlyFollowing ? 'Unfollowed user' : 'Following user');\n  } catch (error) {\n    console.error('Error toggling follow:', error);\n    toast.error('Failed to update follow status');\n  }\n};\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center py-10\">\n        <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-4\">\n      <h1 className=\"text-2xl font-bold mb-6\">Discover Users</h1>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {users.filter(u => u.id !== currentUser?.id).map(user => (\n          <div key={user.id} className=\"border rounded-lg p-4 flex flex-col items-center\">\n            <div className=\"h-20 w-20 overflow-hidden rounded-full mb-3\">\n              <img\n                src={user.avatar || \"https://via.placeholder.com/150\"}\n                alt={user.username}\n                className=\"h-full w-full object-cover\"\n              />\n            </div>\n            \n            <Link href={`/profile/${user.id}`} className=\"font-bold text-lg hover:underline\">\n              {user.username}\n            </Link>\n            \n            {user.name && <p className=\"text-gray-600 mb-2\">{user.name}</p>}\n            \n            <button\n              onClick={() => handleFollowToggle(user.id)}\n              className={`mt-2 rounded-full px-4 py-1 flex items-center ${\n                user.isFollowing \n                  ? 'bg-gray-200 text-gray-800' \n                  : 'bg-blue-500 text-white'\n              }`}\n            >\n              {user.isFollowing ? (\n                <>\n                  <FaUserCheck className=\"mr-1\" /> Following\n                </>\n              ) : (\n                <>\n                  <FaUserPlus className=\"mr-1\" /> Follow\n                </>\n              )}\n            </button>\n          </div>\n        ))}\n\n        {users.length === 0 && (\n          <div className=\"col-span-full text-center py-8 text-gray-500\">\n            No users found\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 260, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}