{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/services/userService.js"],"sourcesContent":["import apiClient from '../lib/axios';\n\nexport const getUserById = async (userId) => {\n  try {\n    const response = await apiClient.get(`/users/${userId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching user ${userId}:`, error);\n    throw error;\n  }\n};\n\nexport const updateUser = async (id, formData) => {\n  try {\n    const response = await apiClient.put(`/users/${id}`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data', // Important for file uploads\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.error(`Error updating user ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const followUser = async (userId) => {\n  try {\n    console.log(`Following user ${userId}`);\n    const response = await apiClient.post(`/users/${userId}/follow`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error following user ${userId}:`, error);\n    throw error;\n  }\n};\n\nexport const unfollowUser = async (userId) => {\n  try {\n    console.log(`Unfollowing user ${userId}`);\n    const response = await apiClient.delete(`/users/${userId}/follow`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error unfollowing user ${userId}:`, error);\n    throw error;\n  }\n};\n\nexport const getUserFollowers = async (id) => {\n  try {\n    const response = await apiClient.get(`/users/${id}/followers`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching followers for user ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const getUserFollowing = async (id) => {\n  try {\n    const response = await apiClient.get(`/users/${id}/following`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching following for user ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const getUserVideos = async (id) => {\n  try {\n    const id = typeof id === 'object' ? id.id : id;\n    \n    const response = await apiClient.get(`/users/${id}/videos`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching videos for user ${id}:`, error);\n    \n    return { videos: [] };\n  }\n};"],"names":[],"mappings":";;;;;;;;;AAAA;;AAEO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,QAAQ;QACvD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC,EAAE;QAChD,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO,IAAI;IACnC,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,UAAU;YAC7D,SAAS;gBACP,gBAAgB;YAClB;QACF;QACA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC,EAAE;QAC5C,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,QAAQ,GAAG,CAAC,CAAC,eAAe,EAAE,QAAQ;QACtC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC;QAC/D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC,EAAE;QACjD,MAAM;IACR;AACF;AAEO,MAAM,eAAe,OAAO;IACjC,IAAI;QACF,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,QAAQ;QACxC,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC;QACjE,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,uBAAuB,EAAE,OAAO,CAAC,CAAC,EAAE;QACnD,MAAM;IACR;AACF;AAEO,MAAM,mBAAmB,OAAO;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,UAAU,CAAC;QAC7D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,kCAAkC,EAAE,GAAG,CAAC,CAAC,EAAE;QAC1D,MAAM;IACR;AACF;AAEO,MAAM,mBAAmB,OAAO;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,UAAU,CAAC;QAC7D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,kCAAkC,EAAE,GAAG,CAAC,CAAC,EAAE;QAC1D,MAAM;IACR;AACF;AAEO,MAAM,gBAAgB,OAAO;IAClC,IAAI;QACF,MAAM,KAAK,OAAO,OAAO,WAAW,GAAG,EAAE,GAAG;QAE5C,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC;QAC1D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC,EAAE;QAEvD,OAAO;YAAE,QAAQ,EAAE;QAAC;IACtB;AACF","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/services/videoService.js"],"sourcesContent":["import apiClient from '../lib/axios';\n\n\n//uses cursor-based pagination\nexport const getVideos = async ({ cursor, limit = 10 }) => {\n  try {\n    // Build query string with cursor if available\n    let queryParams = `limit=${limit}`;\n    if (cursor) {\n      queryParams += `&cursor=${cursor}`;\n    }\n    \n    const response = await apiClient.get(`/videos?${queryParams}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching videos:', error);\n    throw error;\n  }\n};\n\n// uses cursor-based pagination for Following feed\nexport const getFollowingVideos = async ({ cursor, limit = 10 }) => {\n  try {\n    let queryParams = `limit=${limit}`;\n    if (cursor) {\n      queryParams += `&cursor=${cursor}`;\n    }\n    \n    const response = await apiClient.get(`/videos/following?${queryParams}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching following videos:', error);\n    throw error;\n  }\n};\n\nexport const getVideoById = async (id) => {\n  try {\n    const response = await apiClient.get(`/videos/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching video ${id}:`, error);\n    throw error;\n  }\n};\n\n//uses cursor-based pagination\nexport const getUserVideos = async ({ id, cursor, limit = 10 }) => {\n  try {\n    let queryParams = `limit=${limit}`;\n    if (cursor) {\n      queryParams += `&cursor=${cursor}`;\n    }\n    \n    const response = await apiClient.get(`/users/${id}/videos?${queryParams}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching videos for user ${id}:`, error);\n    throw error;\n  }\n};\n\nexport const getVideoComments = async (videoId) => {\n  try {\n    const response = await apiClient.get(`/videos/${videoId}/comments`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching comments for video ${videoId}:`, error);\n    return { comments: [] };\n  }\n};\n\n\nexport const likeVideo = async (videoId) => {\n  try {\n    const response = await apiClient.post(`/videos/${videoId}/like`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error liking video ${videoId}:`, error);\n    throw error;\n  }\n};\n\nexport const unlikeVideo = async (videoId) => {\n  try {\n    const response = await apiClient.delete(`/videos/${videoId}/like`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error unliking video ${videoId}:`, error);\n    throw error;\n  }\n};\n\n\nexport const addComment = async (videoId, content) => {\n  try {\n    const response = await apiClient.post('/comments', {\n      videoId,\n      content\n    });\n    return response.data;\n  } catch (error) {\n    console.error(`Error adding comment to video ${videoId}:`, error);\n    throw error;\n  }\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/app/profile/%5BuserId%5D/page.jsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { FaEdit, FaUserPlus, FaUserCheck, FaRegHeart, FaUpload } from 'react-icons/fa';\nimport { getUserById, followUser, unfollowUser, getUserFollowers, getUserFollowing, updateUser } from '../../../services/userService';\nimport { getUserVideos } from '../../../services/videoService';\nimport { useAuth } from '../../../contexts/authContext';\nimport toast from 'react-hot-toast';\nimport Link from 'next/link';\n\nexport default function ProfilePage() {\n  const { userId } = useParams();\n  const { user: currentUser, isAuthenticated } = useAuth();\n  const router = useRouter();\n  const [user, setUser] = useState(null);\n  const [followers, setFollowers] = useState([]);\n  const [following, setFollowing] = useState([]);\n  const [isFollowing, setIsFollowing] = useState(false);\n  const [activeTab, setActiveTab] = useState('videos');\n  const [loading, setLoading] = useState(true);\n  const [isEditing, setIsEditing] = useState(false);\n  const [videos, setVideos] = useState([]);\n  \n  // Edit profile form state\n  const [name, setName] = useState('');\n  const [bio, setBio] = useState('');\n  const [avatarFile, setAvatarFile] = useState(null);\n  const [avatarPreview, setAvatarPreview] = useState(null);\n  const avatarInputRef = useRef(null);\n  \n  // Function to refresh all profile data\n  const refreshProfileData = async () => {\n  try {\n    // Fetch fresh user data\n    const userData = await getUserById(id);\n    setUser(userData);\n    setName(userData.name || '');\n    setBio(userData.bio || '');\n    \n    // Fetch fresh followers/following data\n    if (isAuthenticated && currentUser) {\n      const followersData = await getUserFollowers(id);\n      setFollowers(followersData.followers || []);\n      setIsFollowing(followersData.followers?.some(f => f.id === currentUser.id) || false);\n    }\n    \n    const followingData = await getUserFollowing(id);\n    setFollowing(followingData.following || []);\n    \n    try {\n      const videosData = await getUserVideos(id);\n      setVideos(videosData.videos || []);\n    } catch (error) {\n      console.error('Error fetching videos:', error);\n      setVideos([]);\n    }\n  } catch (error) {\n    console.error('Error refreshing profile data:', error);\n    toast.error('Failed to refresh profile data');\n  }\n};\n  \n  // Fetch user profile data\n  useEffect(() => {\n    const fetchProfileData = async () => {\n      try {\n        setLoading(true);\n        \n        // Fetch user data\n        let userData;\n        try {\n          userData = await getUserById(userId);\n          setUser(userData);\n          setName(userData.name || '');\n          setBio(userData.bio || '');\n        } catch (error) {\n          console.error('Error fetching user data:', error);\n          toast.error('Failed to load user data');\n          return; // Exit if we can't get basic user data\n        }\n\n        // Fetch followers/following data\n        if (isAuthenticated && currentUser) {\n          try {\n            const followersData = await getUserFollowers(userId);\n            setFollowers(followersData.followers || []);\n            setIsFollowing(followersData.followers?.some(f => f.id === currentUser.id) || false);\n          } catch (error) {\n            console.error('Error fetching followers:', error);\n            setFollowers([]);\n          }\n        }\n\n        try {\n          const followingData = await getUserFollowing(userId);\n          setFollowing(followingData.following || []);\n        } catch (error) {\n          console.error('Error fetching following:', error);\n          setFollowing([]);\n        }\n        \n        // Fetch videos with better error handling\n        try {\n          const videosData = await getUserVideos(userId);\n          setVideos(videosData.videos || []);\n        } catch (error) {\n          console.error('Error fetching videos:', error);\n          setVideos([]);\n        }\n      } catch (error) {\n        console.error('Error in fetchProfileData:', error);\n        toast.error('Failed to load profile data');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    if (userId) {\n      fetchProfileData();\n    }\n  }, [userId, isAuthenticated, currentUser]);\n\n  // Add an effect to refresh when userId changes\n  useEffect(() => {\n    if (userId && !loading) {\n      refreshProfileData();\n    }\n  }, [userId]);\n\n  // Handle follow/unfollow\n  const handleFollowToggle = async () => {\n    if (!isAuthenticated) {\n      toast.error('Please log in to follow users');\n      return;\n    }\n\n    try {\n      if (isFollowing) {\n        await unfollowUser(userId);\n      } else {\n        await followUser(userId);\n      }\n      \n      // Refresh all profile data\n      await refreshProfileData();\n      \n      toast.success(isFollowing ? 'Unfollowed user' : 'Following user');\n    } catch (error) {\n      console.error('Error toggling follow:', error);\n      toast.error('Failed to follow/unfollow user');\n    }\n  };\n  \n  // Handle avatar file selection\n  const handleAvatarChange = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    if (!file.type.startsWith('image/')) {\n      toast.error('Please select an image file');\n      return;\n    }\n\n    setAvatarFile(file);\n    setAvatarPreview(URL.createObjectURL(file));\n  };\n  \n  // Handle profile update submission\n  const handleProfileUpdate = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const formData = new FormData();\n      formData.append('name', name);\n      formData.append('bio', bio);\n      if (avatarFile) {\n        formData.append('avatar', avatarFile);\n      }\n      \n      const updatedUser = await updateUser(userId, formData);\n      \n      // Update the user state with the response from the server\n      setUser(updatedUser);\n      \n      setIsEditing(false);\n      toast.success('Profile updated successfully');\n      \n      // Refresh profile data to ensure everything is up to date\n      await refreshProfileData();\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      toast.error('Failed to update profile');\n    }\n  };\n\n  // Helper function to get full URL for images/videos\n  const getFullVideoUrl = (url) => {\n    if (!url) return null;\n    \n    if (url.startsWith('http')) return url;\n    \n    const baseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\n    const serverUrl = baseUrl.includes('/api') \n      ? baseUrl.substring(0, baseUrl.indexOf('/api')) \n      : baseUrl;\n    \n    return `${serverUrl}${url}`;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center py-10\">\n        <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent\"></div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"text-center py-10\">\n        <p>User not found</p>\n      </div>\n    );\n  }\n  \n  const isOwnProfile = isAuthenticated && currentUser?.id === parseInt(userId);\n\n  return (\n    <div className=\"max-w-4xl mx-auto py-8\">\n      {/* Profile header */}\n      <div className=\"flex items-start mb-8\">\n        {isEditing ? (\n          <div className=\"h-24 w-24 rounded-full mr-6 overflow-hidden relative\">\n            <div \n              onClick={() => avatarInputRef.current?.click()}\n              className=\"cursor-pointer h-full w-full flex items-center justify-center bg-gray-200\"\n            >\n              {avatarPreview ? (\n                <img \n                  src={avatarPreview} \n                  alt=\"Profile preview\" \n                  className=\"h-full w-full object-cover\" \n                />\n              ) : user.avatar ? (\n                <img \n                  src={getFullVideoUrl(user.avatar)} \n                  alt={user.username} \n                  className=\"h-full w-full object-cover\" \n                />\n              ) : (\n                <FaUpload className=\"text-gray-500\" />\n              )}\n              <input\n                type=\"file\"\n                ref={avatarInputRef}\n                onChange={handleAvatarChange}\n                accept=\"image/*\"\n                className=\"hidden\"\n              />\n              <div className=\"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity\">\n                <span className=\"text-white text-sm font-medium\">Change</span>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"h-24 w-24 rounded-full mr-6 overflow-hidden bg-gray-200\">\n            {user.avatar ? (\n              <img \n                src={getFullVideoUrl(user.avatar)} \n                alt={user.username} \n                className=\"h-full w-full object-cover\" \n              />\n            ) : (\n              <div className=\"h-full w-full flex items-center justify-center bg-gray-200 text-gray-500\">\n                {user.username?.charAt(0)?.toUpperCase() || 'U'}\n              </div>\n            )}\n          </div>\n        )}\n        \n        <div className=\"flex-1\">\n          <h1 className=\"text-xl font-bold mb-2\">@{user.username}</h1>\n          \n          {isEditing ? (\n            <form onSubmit={handleProfileUpdate} className=\"mb-4\">\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium mb-1\">Name</label>\n                <input\n                  type=\"text\"\n                  value={name}\n                  onChange={(e) => setName(e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                />\n              </div>\n              \n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium mb-1\">Bio</label>\n                <textarea\n                  value={bio}\n                  onChange={(e) => setBio(e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded\"\n                  rows=\"3\"\n                ></textarea>\n              </div>\n              \n              <div className=\"flex space-x-2\">\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded\"\n                >\n                  Save Changes\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setIsEditing(false)}\n                  className=\"px-4 py-2 border border-gray-300 rounded\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          ) : (\n            <>\n              <h2 className=\"text-lg mb-4\">{user.name || user.username}</h2>\n              \n              {isOwnProfile ? (\n                <button \n                  onClick={() => setIsEditing(true)}\n                  className=\"px-6 py-1.5 rounded-md border border-gray-300 font-medium flex items-center mr-3\"\n                >\n                  <FaEdit className=\"mr-2\" /> Edit profile\n                </button>\n              ) : (\n                <button\n                  onClick={handleFollowToggle}\n                  className={`px-6 py-1.5 rounded-md font-medium flex items-center mr-3 ${\n                    isFollowing \n                      ? 'border border-gray-300' \n                      : 'bg-blue-500 text-white'\n                  }`}\n                >\n                  {isFollowing ? (\n                    <>\n                      <FaUserCheck className=\"mr-2\" /> Following\n                    </>\n                  ) : (\n                    <>\n                      <FaUserPlus className=\"mr-2\" /> Follow\n                    </>\n                  )}\n                </button>\n              )}\n              \n              <div className=\"flex items-center mt-4 space-x-4\">\n                <p><span className=\"font-bold\">{following.length}</span> Following</p>\n                <p><span className=\"font-bold\">{followers.length}</span> Followers</p>\n                <p><span className=\"font-bold\">{user.likeCount || 0}</span> Likes</p>\n              </div>\n              \n              <p className=\"mt-4 text-sm max-w-md\">\n                {user.bio || \"No bio yet.\"}\n              </p>\n            </>\n          )}\n        </div>\n      </div>\n      \n      {/* Video tabs */}\n      <div className=\"border-b\">\n        <div className=\"flex\">\n          <button \n            onClick={() => setActiveTab('videos')}\n            className={`py-2 px-4 font-medium ${\n              activeTab === 'videos' ? 'border-b-2 border-black' : 'text-gray-500'\n            }`}\n          >\n            Videos\n          </button>\n          <button \n            onClick={() => setActiveTab('liked')}\n            className={`py-2 px-4 font-medium ${\n              activeTab === 'liked' ? 'border-b-2 border-black' : 'text-gray-500'\n            }`}\n          >\n            Liked\n          </button>\n        </div>\n      </div>\n      \n      {/* Videos grid */}\n      <div className=\"py-4\">\n        {activeTab === 'videos' ? (\n          <div className=\"grid grid-cols-3 gap-1 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6\">\n            {videos.length > 0 ? (\n              videos.map((video) => (\n                <Link href={`/video/${video.id}`} key={video.id} className=\"aspect-[9/16] relative block\">\n                  <img\n                    src={video.thumbnailUrl ? getFullVideoUrl(video.thumbnailUrl) : \"https://via.placeholder.com/150\"}\n                    alt={video.caption}\n                    className=\"h-full w-full object-cover\"\n                  />\n                  <div className=\"absolute bottom-2 left-2 flex items-center text-white\">\n                    <FaRegHeart className=\"mr-1\" />\n                    <span>{video.likeCount || 0}</span>\n                  </div>\n                </Link>\n              ))\n            ) : (\n              <div className=\"col-span-6 py-20 text-center\">\n                <div className=\"max-w-md mx-auto\">\n                  <h3 className=\"text-xl font-bold mb-2\">\n                    {isOwnProfile ? \"Upload your first video\" : \"No videos yet\"}\n                  </h3>\n                  <p className=\"text-gray-500 mb-6\">\n                    {isOwnProfile ? \"Your videos will appear here\" : `${user.username} hasn't uploaded any videos yet`}\n                  </p>\n                  {isOwnProfile && (\n                    <Link href=\"/upload\" className=\"bg-blue-500 text-white px-8 py-2 rounded-md font-medium inline-block\">\n                      Upload now\n                    </Link>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"py-20 text-center\">\n            <p className=\"text-gray-500\">Liked videos are private</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 952, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}