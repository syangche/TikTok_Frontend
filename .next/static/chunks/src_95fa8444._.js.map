{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/services/videoService.js"],"sourcesContent":["import apiClient from '../lib/axios';\n\n\nexport const getVideos = async (page = 1, limit = 10) => {\n  try {\n    const response = await apiClient.get(`/videos?page=${page}&limit=${limit}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching videos:', error);\n    throw error;\n  }\n};\n\n// Other functions can stay the same\n\nexport const getVideoById = async (id) => {\n  try {\n    const response = await apiClient.get(`/videos/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching video ${id}:`, error);\n    throw error;\n  }\n};\n\n// In videoService.js\nexport const getUserVideos = async (userId) => {\n  try {\n    console.log(`Fetching videos for user ID: ${userId}`);\n    \n    if (!userId) {\n      console.error('getUserVideos called without userId');\n      return { videos: [] };\n    }\n    \n    const response = await apiClient.get(`/users/${userId}/videos`);\n    console.log(`Received ${response.data.videos?.length || 0} videos for user ${userId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching videos for user ${userId}:`, error);\n    // Return empty data to prevent UI errors\n    return { videos: [] };\n  }\n};\n\nexport const getFollowingVideos = async () => {\n  try {\n    const response = await apiClient.get('/videos/following');\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching following videos:', error);\n      // throw error;\n      return { videos: [] };\n  }\n};\n\nexport const likeVideo = async (videoId) => {\n  try {\n    const response = await apiClient.post(`/videos/${videoId}/like`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error liking video ${videoId}:`, error);\n    throw error;\n  }\n};\n\nexport const unlikeVideo = async (videoId) => {\n  try {\n    const response = await apiClient.delete(`/videos/${videoId}/like`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error unliking video ${videoId}:`, error);\n    throw error;\n  }\n};\n\nexport const getVideoComments = async (videoId) => {\n  try {\n    const response = await apiClient.get(`/videos/${videoId}/comments`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching comments for video ${videoId}:`, error);\n    return { comments: [] };\n  }\n};\n\nexport const addComment = async (videoId, content) => {\n  try {\n    const response = await apiClient.post('/comments', {\n      videoId,\n      content\n    });\n    return response.data;\n  } catch (error) {\n    console.error(`Error adding comment to video ${videoId}:`, error);\n    throw error;\n  }\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/components/ui/VideoCard.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { FaHeart, FaComment, FaShare, FaMusic } from \"react-icons/fa\";\nimport { useAuth } from \"../../contexts/authContext\";\nimport { likeVideo, unlikeVideo } from \"../../services/videoService\";\nimport toast from \"react-hot-toast\";\n\nconst VideoCard = ({ video }) => {\n  const { user, isAuthenticated } = useAuth();\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isLiked, setIsLiked] = useState(false);\n  const [likeCount, setLikeCount] = useState(video.likeCount || 0);\n  const [videoError, setVideoError] = useState(false);\n  const videoRef = useRef(null);\n  const [isUnmuted, setIsUnmuted] = useState(true);\n\n  const getFullVideoUrl = (url) => {\n    if (!url) return null;\n\n    if (url.startsWith(\"http\")) return url;\n\n    const baseUrl = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n    const serverUrl = baseUrl.includes(\"/api\")\n      ? baseUrl.substring(0, baseUrl.indexOf(\"/api\"))\n      : baseUrl;\n\n    return `${serverUrl}${url}`;\n  };\n\n  <source src={getFullVideoUrl(video.videoUrl)} type=\"video/mp4\" />;\n  // Check if the video is already liked by the user\n  useEffect(() => {\n    console.log(\"Video URL:\", video.videoUrl);\n    console.log(\"Full video URL:\", getFullVideoUrl(video.videoUrl));\n    if (user && video.likes) {\n      setIsLiked(video.likes.some((like) => like.userId === user.id));\n    }\n  }, [user, video.likes]);\n\n  const togglePlay = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n\n  const handleLike = async () => {\n    if (!isAuthenticated) {\n      toast.error(\"Please log in to like videos\");\n      return;\n    }\n\n    try {\n      if (isLiked) {\n        await unlikeVideo(video.id);\n        setIsLiked(false);\n        setLikeCount((prev) => prev - 1);\n      } else {\n        await likeVideo(video.id);\n        setIsLiked(true);\n        setLikeCount((prev) => prev + 1);\n      }\n    } catch (error) {\n      console.error(\"Error toggling like:\", error);\n      toast.error(\"Failed to like/unlike video\");\n    }\n  };\n\n  // Observe video visibility for autoplay\n  // useEffect(() => {\n  //   if (!videoRef.current) return;\n\n  //   const observer = new IntersectionObserver(\n  //     ([entry]) => {\n  //       if (entry.isIntersecting) {\n  //         // Add a slight delay before attempting to play\n  //         setTimeout(() => {\n  //           // Use muted attribute to increase chances of autoplay working\n  //           if (videoRef.current) {\n  //             videoRef.current.muted = true;\n\n  //             // Use try-catch to handle potential errors\n  //             try {\n  //               const playPromise = videoRef.current.play();\n\n  //               // Handle the play promise\n  //               if (playPromise !== undefined) {\n  //                 playPromise\n  //                   .then(() => {\n  //                     setIsPlaying(true);\n  //                   })\n  //                   .catch((error) => {\n  //                     console.log(\"Autoplay prevented:\", error);\n  //                     setIsPlaying(false);\n  //                   });\n  //               }\n  //             } catch (error) {\n  //               console.log(\"Play error:\", error);\n  //             }\n  //           }\n  //         }, 100);\n  //       } else {\n  //         // Only pause if currently playing to avoid unnecessary calls\n  //         if (isPlaying && videoRef.current) {\n  //           videoRef.current.pause();\n  //           setIsPlaying(false);\n  //         }\n  //       }\n  //     },\n  //     { threshold: 0.7 }\n  //   );\n\n  //   if (videoRef.current) {\n  //     observer.observe(videoRef.current);\n  //   }\n\n  useEffect(() => {\n  if (!videoRef.current) return;\n\nconst observer = new IntersectionObserver(\n    ([entry]) => {\n      if (entry.isIntersecting) {\n        // Only try to play if videoRef.current exists\n        if (videoRef.current) {\n          videoRef.current.play()\n            .then(() => {\n              setIsPlaying(true);\n            })\n            .catch(error => {\n              console.error(\"Video play error:\", error);\n              setIsPlaying(false);\n            });\n        }\n      } else {\n        // Add null check before trying to pause\n        if (videoRef.current) {\n          videoRef.current.pause();\n          setIsPlaying(false);\n        }\n      }\n    },\n    { threshold: 0.7 }\n);\n\nconst currentVideoRef = videoRef.current;\n\nif (currentVideoRef) {\n    observer.observe(currentVideoRef);\n  }\n\n  // Use the saved reference in the cleanup function\n  return () => {\n    if (currentVideoRef) {\n      observer.unobserve(currentVideoRef);\n    }\n  };\n}, []);\n  \n  //   return () => {\n  //     if (videoRef.current) {\n  //       observer.unobserve(videoRef.current);\n  //     }\n  //   };\n  // }, [isPlaying]);\n\n  const handleVideoError = () => {\n    console.error(\"Video failed to load:\", video.videoUrl);\n    setVideoError(true);\n  };\n\n  return (\n    <div className=\"mb-8 flex border-b border-gray-200 pb-8\">\n      {/* User avatar */}\n      <div className=\"mr-4\">\n        <Link href={`/profile/${video.user?.id}`}>\n          <div className=\"h-12 w-12 overflow-hidden rounded-full\">\n            <img\n              src={video.user?.avatar || \"https://via.placeholder.com/150\"}\n              alt={video.user?.username}\n              className=\"h-full w-full object-cover\"\n            />\n          </div>\n        </Link>\n      </div>\n\n      {/* Video content */}\n      <div className=\"flex-1\">\n        {/* User info and caption */}\n        <div className=\"mb-3\">\n          <Link\n            href={`/profile/${video.user?.id}`}\n            className=\"font-semibold hover:underline\"\n          >\n            {video.user?.username}\n          </Link>\n          <p className=\"mt-1\">{video.caption}</p>\n          {video.sound && (\n            <p className=\"mt-1 flex items-center text-sm\">\n              <FaMusic className=\"mr-1\" /> {video.sound}\n            </p>\n          )}\n        </div>\n\n        {/* Video and interaction */}\n        <div className=\"flex\">\n          {/* Video container */}\n          <div className=\"relative mr-4 h-[600px] w-[336px] overflow-hidden rounded-lg bg-black\">\n            {!videoError ? (\n              <>\n                <video\n                ref={videoRef}\n                onClick={togglePlay}\n                className=\"h-full w-full object-contain\"\n                loop\n                unmuted=\"true\"\n                playsInline\n                poster={video.thumbnailUrl ? getFullVideoUrl(video.thumbnailUrl) : \"https://via.placeholder.com/150\"}\n              >\n                <source \n                  src={getFullVideoUrl(video.videoUrl)} \n                  type=\"video/mp4\" \n                />\n              </video>\n\n              {/* Add a mute/unmute button */}\n              <button \n                onClick={(e) => {\n                  e.stopPropagation(); // Prevent video play/pause\n                  setIsUnmuted(!isUnmuted);\n                }}\n                className=\"absolute bottom-4 right-4 bg-black bg-opacity-50 rounded-full p-2 text-white\"\n              >\n                {isUnmuted ? 'Mute' : 'Unmute'}\n              </button>\n\n                {!isPlaying && (\n                  <div className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform text-white\">\n                    <button className=\"rounded-full bg-black bg-opacity-50 p-4\">\n                      ▶️\n                    </button>\n                  </div>\n                )}\n              </>\n            ) : (\n              <div className=\"flex h-full w-full flex-col items-center justify-center bg-black text-white\">\n                <p className=\"mb-2\">Video unavailable</p>\n                <p className=\"text-sm text-gray-400\">Using fallback video</p>\n\n                {/* Fallback video */}\n                <video\n                  ref={videoRef}\n                  onClick={togglePlay}\n                  className=\"h-full w-full object-contain\"\n                  loop\n                  muted\n                  playsInline\n                >\n                  <source\n                    src=\"https://assets.mixkit.co/videos/preview/mixkit-spinning-around-the-earth-29351-large.mp4\"\n                    type=\"video/mp4\"\n                  />\n                </video>\n              </div>\n            )}\n          </div>\n\n          {/* Interaction buttons */}\n          <div className=\"flex flex-col items-center justify-end space-y-4\">\n            <button\n              onClick={handleLike}\n              className={`flex flex-col items-center ${\n                isLiked ? \"text-red-500\" : \"\"\n              }`}\n            >\n              <div className=\"rounded-full bg-gray-100 p-3\">\n                <FaHeart size={20} />\n              </div>\n              <span className=\"mt-1 text-xs\">{likeCount}</span>\n            </button>\n\n            <Link\n              href={`/video/${video.id}`}\n              className=\"flex flex-col items-center\"\n            >\n              <div className=\"rounded-full bg-gray-100 p-3\">\n                <FaComment size={20} />\n              </div>\n              <span className=\"mt-1 text-xs\">{video.commentCount || 0}</span>\n            </Link>\n\n            <button className=\"flex flex-col items-center\">\n              <div className=\"rounded-full bg-gray-100 p-3\">\n                <FaShare size={20} />\n              </div>\n              <span className=\"mt-1 text-xs\">Share</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoCard;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 632, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/components/ui/VideoFeed.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport VideoCard from './VideoCard';\nimport { getVideos, getFollowingVideos } from '../../services/videoService';\nimport toast from 'react-hot-toast';\n\nconst VideoFeed = ({ feedType = 'forYou' }) => { // Add default value\n  const [videos, setVideos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchVideos = async () => {\n    try {\n      setLoading(true);\n      let response;\n      \n      // Use different API endpoints based on feed type\n      if (feedType === 'following') {\n        response = await getFollowingVideos();\n      } else {\n        response = await getVideos();\n      }\n      \n      setVideos(response.videos || []);\n    } catch (error) {\n      console.error('Error fetching videos:', error);\n      setError('Failed to load videos. Please try again later.');\n      toast.error('Failed to load videos');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchVideos();\n  }, [feedType]); \n// const VideoFeed = () => {\n//   const [videos, setVideos] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n\n  // useEffect(() => {\n  //   fetchVideos();\n  // }, []);\n\n  // const fetchVideos = async () => {\n  //   try {\n  //     setLoading(true);\n  //     const data = await getVideos();\n  //     setVideos(data.videos || []);\n  //   } catch (error) {\n  //     console.error('Error fetching videos:', error);\n  //     setError('Failed to load videos. Please try again later.');\n  //     toast.error('Failed to load videos');\n  //   } finally {\n  //     setLoading(false);\n  //   }\n  // };\n\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center py-10\">\n        <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center py-10\">\n        <p className=\"text-red-500\">{error}</p>\n        <button\n          onClick={fetchVideos}\n          className=\"mt-4 rounded-lg bg-blue-500 px-4 py-2 text-white\"\n        >\n          Try Again\n        </button>\n      </div>\n    );\n  }\n\n  if (videos.length === 0) {\n    return (\n      <div className=\"text-center py-10\">\n        <p className=\"text-gray-500\">No videos found.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-10\">\n      {videos.map((video) => (\n        <VideoCard key={video.id} video={video} />\n      ))}\n    </div>\n  );\n};\n\nexport default VideoFeed;\n\n\n\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOA,MAAM,YAAY,CAAC,EAAE,WAAW,QAAQ,EAAE;;IACxC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,cAAc;QAClB,IAAI;YACF,WAAW;YACX,IAAI;YAEJ,iDAAiD;YACjD,IAAI,aAAa,aAAa;gBAC5B,WAAW,MAAM,CAAA,GAAA,kIAAA,CAAA,qBAAkB,AAAD;YACpC,OAAO;gBACL,WAAW,MAAM,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;YAC3B;YAEA,UAAU,SAAS,MAAM,IAAI,EAAE;QACjC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS;YACT,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC;QACd,SAAU;YACR,WAAW;QACb;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR;QACF;8BAAG;QAAC;KAAS;IACf,4BAA4B;IAC5B,8CAA8C;IAC9C,kDAAkD;IAClD,8CAA8C;IAE5C,oBAAoB;IACpB,mBAAmB;IACnB,UAAU;IAEV,oCAAoC;IACpC,UAAU;IACV,wBAAwB;IACxB,sCAAsC;IACtC,oCAAoC;IACpC,sBAAsB;IACtB,sDAAsD;IACtD,kEAAkE;IAClE,4CAA4C;IAC5C,gBAAgB;IAChB,yBAAyB;IACzB,MAAM;IACN,KAAK;IAGL,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,OAAO;QACT,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAE,WAAU;8BAAgB;;;;;;8BAC7B,6LAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;IAKP;IAEA,IAAI,OAAO,MAAM,KAAK,GAAG;QACvB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGnC;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,OAAO,GAAG,CAAC,CAAC,sBACX,6LAAC,wIAAA,CAAA,UAAS;gBAAgB,OAAO;eAAjB,MAAM,EAAE;;;;;;;;;;AAIhC;GA3FM;KAAA;uCA6FS","debugId":null}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/app/following/page.jsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport VideoFeed from '../../components/ui/VideoFeed';\nimport { useAuth } from '../../contexts/authContext';\nimport { useRouter } from 'next/navigation';\nimport toast from 'react-hot-toast';\n\nexport default function FollowingPage() {\n  const { isAuthenticated, loading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading && !isAuthenticated) {\n      toast.error('Please log in to view your following feed');\n      router.push('/');\n    }\n  }, [isAuthenticated, loading, router]);\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center py-10\">\n        <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <main className=\"flex min-h-screen flex-col items-center\">\n      <h1 className=\"text-2xl font-bold mb-6\">Following Feed</h1>\n      <VideoFeed feedType=\"following\" />\n    </main>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD;IAC3C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,IAAI,CAAC,WAAW,CAAC,iBAAiB;gBAChC,0JAAA,CAAA,UAAK,CAAC,KAAK,CAAC;gBACZ,OAAO,IAAI,CAAC;YACd;QACF;kCAAG;QAAC;QAAiB;QAAS;KAAO;IAErC,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC,wIAAA,CAAA,UAAS;gBAAC,UAAS;;;;;;;;;;;;AAG1B;GAzBwB;;QACe,iIAAA,CAAA,UAAO;QAC7B,qIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 874, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}