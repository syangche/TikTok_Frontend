{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/sonamyangchen/Desktop/TikTok_Frontend/src/app/login/page.jsx"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '../../contexts/authContext';\nimport toast from 'react-hot-toast';\n\nexport default function LoginPage() {\n  const { login } = useAuth();\n  const [isLoading, setIsLoading] = useState(false);\n  const [authError, setAuthError] = useState(null);\n  const { register, handleSubmit, formState: { errors } } = useForm();\n  const router = useRouter();\n  \n  const onSubmit = async (data) => {\n    setIsLoading(true);\n    setAuthError(null);\n    \n    try {\n      console.log('Attempting login with:', {\n        username: data.email,\n        password: '********' // Don't log actual passwords\n      });\n      \n      // Pass credentials as an object to match what your backend expects\n      const credentials = {\n        email: data.email,\n        password: data.password\n      };\n      \n      await login(credentials);\n      toast.success('Login successful!');\n      router.push('/'); // Redirect to homepage after login\n    } catch (error) {\n      console.error('Login error:', error);\n      const errorMsg = error.response?.data?.message || 'Login failed';\n      setAuthError(errorMsg);\n      toast.error(errorMsg);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Rest of your component remains the same\n\n  return (\n    <div className=\"flex flex-col items-center justify-center py-8 px-4\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-2xl font-bold\">Log in to TikTok</h1>\n          <p className=\"text-gray-500 mt-2\">Manage your account, check notifications, comment on videos, and more</p>\n        </div>\n\n        <div className=\"border rounded-lg p-6\">\n          {authError && (\n            <div className=\"mb-4 p-2 bg-red-50 text-red-500 rounded\">\n              {authError}\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"mb-4\">\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                {...register('email', { \n                  required: 'Email is required',\n                  pattern: {\n                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                    message: 'Invalid email address'\n                  }\n                })}\n              />\n              {errors.email && <p className=\"text-red-500 text-xs mt-1\">{errors.email.message}</p>}\n            </div>\n\n            <div className=\"mb-4\">\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                className=\"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-gray-400\"\n                {...register('password', { \n                  required: 'Password is required',\n                  minLength: {\n                    value: 6,\n                    message: 'Password must be at least 6 characters'\n                  }\n                })}\n              />\n              {errors.password && <p className=\"text-red-500 text-xs mt-1\">{errors.password.message}</p>}\n            </div>\n\n            <div className=\"mb-4 text-right\">\n              <Link href=\"/reset-password\" className=\"text-sm text-gray-500 hover:underline\">\n                Forgot password?\n              </Link>\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full bg-red-500 text-white py-3 rounded-md font-medium hover:bg-red-600 transition\"\n              disabled={isLoading}\n            >\n              {isLoading ? 'Logging in...' : 'Log in'}\n            </button>\n          </form>\n        </div>\n\n        <div className=\"mt-4 text-center\">\n          <p className=\"text-gray-500\">\n            Don't have an account?{' '}\n            <Link href=\"/signup\" className=\"text-red-500 font-medium hover:underline\">\n              Sign up\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}